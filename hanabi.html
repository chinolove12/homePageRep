<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>当選確率計算機</title>
</head>
<body>
  <h2>当選確率計算機</h2>
  <label>1/157：</label>
  <input type="number" id="probability" placeholder="例：1" step="0.01"><br><br>

  <label>試行回数：</label>
  <input type="number" id="tries" placeholder="例：100"><br><br>

  <button onclick="calculate()">計算する</button>

  <p id="result"></p>

  <script>
    function calculate() {
      const pPercent = 100 / 157;
      const n = parseInt(document.getElementById("tries").value);

      if (isNaN(pPercent) || isNaN(n) || pPercent <= 0 || n <= 0) {
        document.getElementById("result").textContent = "正しい値を入力してください。";
        return;
      }

      const p = pPercent / 100;  // 小数に変換
      const probability = 1 - Math.pow(1 - p, n);
      const percentage = (probability * 100).toFixed(2);

      document.getElementById("result").textContent =
        `${n}回引いたときに1回以上当たる確率は ${percentage}% です。`;
    }
  </script>
</body>
</html>
